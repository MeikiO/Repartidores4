<!DOCTYPE HTML>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="/aaa_layouts/admin/layout_admin">

<head> 
    <title>Formulario repartidor</title> 
</head>
<body>

<section layout:fragment="custom-content" class="text-center">
  		
  <!-- Background image -->
    <div class="card-body py-5 px-md-5">

      <div class="row d-flex justify-content-center">
        <div class="col-lg-8">
          <h2 class="fw-bold mb-5">Registro Repartidores</h2>
          
        <form method="post" action="#" th:action="@{/admin/procesarRepartidor}" th:object="${repartidor}" autocomplete="off">
		    <div class="form-group">
	       		<input hidden type="text" th:field="*{id}" />
		    	<input hidden type="text" th:field="*{poblacion}" />  
		    </div>
          
            <!-- 2 column grid layout with text inputs for the first and last names -->
            <div class="row">            
              <div class="col-md-6 mb-4">
                <div class="form-outline">
                  <input type="text" id="nombre" th:field="*{nombre}"  class="form-control" required />
                  <label class="form-label" for="nombre">Nombre</label>
                </div>
              </div>
              <div class="col-md-6 mb-4">
                <div class="form-outline">
                  <input type="text" id="apellido" th:field="*{apellidos}" class="form-control" />
                  <label class="form-label" for="apellido">Apellidos</label>
                </div>
              </div>
            </div>
            
            
            <!-- Tlf input -->
            <div class="form-outline mb-4">
              <input type="tel" th:field="*{tlf}"  id="tlf" class="form-control"
              pattern="[0-9]{9}" required  title="introduzca telefono valido (9 numeros)" />
              <label class="form-label" for="tlf">Tlf</label>
            </div>


      		<!-- Poblacion input -->
            <div class="form-outline mb-4">
              <select name="poblacion_formulario" class="selectpicker">
	      			<div th:switch="*{poblacion==null}">
						<div th:case="true" class="col-sm order-last">
							<option value="default">Elige poblacion</option>
						</div>
						<div th:case="false" class="col-sm order-last">
							<option value="default" th:text="*{poblacion.nombreLocalizacion}" 
							th:value="*{poblacion.nombreLocalizacion}"></option>
						</div>
					</div>	
					<option th:each="pobla:${listaPoblaciones}"  
					th:value="${pobla.nombreLocalizacion}" 
					th:text="${pobla.nombreLocalizacion}"/>
	          </select>
              <label class="form-label" for="poblacion">Poblacion</label>
            </div>


           <!-- Direccion input -->
            <div class="form-outline mb-4">
              <input type="text" th:field="*{direccion}" class="form-control" id="direccion" 
		        name="direccion" title="direccion no valida" required>
              <label class="form-label" for="direccion">Direccion</label>
            </div>


           <!-- Dni input -->
            <div class="form-outline mb-4">
               <input type="text" th:field="*{dni}"class="form-control" name="dni"
		   		id="dni" pattern="[0-9]{8}[A-Za-z]{1}"
		   		title="Debe poner 8 numeros y una letra" required/>
              <label class="form-label" for="dni">DNI</label>
            </div>

			<!-- Gmail input -->
            <div class="form-outline mb-4">
               <input class="form-control" type="text" th:field="*{gmail}" id="gmail" name="gmail" title="gmail no valido" 
		        pattern="[a-zA-Z0-9!#$%&'*_+-]([\.]?[a-zA-Z0-9!#$%&'*_+-])+@[a-zA-Z0-9]([^@&%$\/()=?¿!.,:;]|\d)+[a-zA-Z0-9][\.][a-zA-Z]{2,4}([\.][a-zA-Z]{2})?" required>
              <label class="form-label" for="dni">Gmail</label>
            </div>


            <!-- 2 column grid layout with text inputs for the first and last names -->
           
            <div class="row">            
              <div class="col-md-6 mb-4">
                <div class="form-outline">
                	
                	<div th:switch="*{user==null}">
	 					<div th:case="true">
                  	 		<input type="text" class="form-control" id="username" name="username" autocomplete="new-password" required>
                  		</div>
                  		<div th:case="false">
                  	 		<input type="text" class="form-control" id="username" name="username" autocomplete="new-password" 
                  	 		required  th:value="*{user.username}">
                  		</div>
                  	</div>
                  	
                  <label class="form-label" for="username">Username</label>
                
                </div>
              </div>
              <div class="col-md-6 mb-4">
                <div class="form-outline">
                    <input type="password" class="form-control" id="password" name="password" required
		               autocomplete="new-password">
                  <label class="form-label" for="password">Password</label>
                </div>
              </div>
            </div>
	          


	       
            
          	<button type="submit" class="btn btn-primary btn-block mb-4" name="action"  value="registro_repartidor">Registrar Repartidor</button>
		</form>
		<form method="get" action="#" th:action="@{/admin/consultarRepartidores}" autocomplete="off">
				<button type="submit" class="btn btn-primary btn-block mb-4" name="action"  value="exit">Volver atras</button>
		</form>
                
        </div>
      </div>
    </div>
</section>

</body>
</html>